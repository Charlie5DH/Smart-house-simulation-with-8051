		ORG 0000H
		JMP _STARTUP

		ORG 03H		;VECTOR DE INTERRUPCION DE LA EXTERNA0
		JMP EXTERNA0

		ORG 0BH		;VECTOR DE INTERRUPCION DEL TIMER0
		JMP TMR0

EXTERNA0:	SETB IE.1	;HABILITA TIMER0
		RETI

TMR0:		INC R1
		CJNE R1,#10,OUT
		CPL A
		MOV P2,A
		MOV R1,#0

OUT:		MOV TL0,#0B0H
		MOV TH0,#3CH
		
		RETI

_STARTUP:	MOV P2,#0		;CONDICIONES INICIALES = APAGADO DE LEDS AL PRINCIPIO
		MOV R1,#0		;REGISTRO QUE SE VA A LLEVAR A 10 EN EL TIMER PARA EJECUTAR LOS 50ms 10 VECES=500ms
		MOV TMOD,#01H		;TIMER0 EN MODO 1 DE 16 BITS
		MOV TL0,#0B0H		;RECARGA INICIAL PARA CONTEO DE 0.5s
		MOV TH0,#3CH		;RECARGA INICIAL PARA CONTEO DE 0.5s
		MOV TCON,#11H		;EXTERNA0 POR FRENTE DESCENDENTE Y HABILITACION DEL TIMER0
		MOV A,#0FFH		;VALOR QUE SE LE ENVIARA AL PUERTO 2 EN EL TIMER = ENCENDIDO DE LEDS
		MOV IE,#81H		;HABILITA LA INTERRUPCION GLOBAL Y LA EXTERNA 0
		JMP $

		END